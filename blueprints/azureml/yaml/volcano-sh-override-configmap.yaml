---
apiVersion: v1
kind: ConfigMap
metadata:
  name: volcano-sh-override-configmap
  namespace: azureml
data:
  volcano-scheduler.conf: |
    actions: "enqueue, allocate, backfill"
    tiers:
    - plugins:
      - name: sla
        arguments:
          sla-waiting-time: 1m
    - plugins:
      - name: conformance
    - plugins:
        - name: drf
          enablePreemptable: false
        - name: predicates
        - name: proportion
        - name: nodeorder
        - name: binpack
          arguments:
            binpack.weight: 10
            binpack.memory: 1
            binpack.cpu: 1
            binpack.resources: nvidia.com/gpu
            binpack.resources.nvidia.com/gpu: 100
