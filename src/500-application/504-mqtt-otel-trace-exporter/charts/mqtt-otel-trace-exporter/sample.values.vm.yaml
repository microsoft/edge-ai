---
replicaCount: 1

image:
  repository: ghcr.io/microsoft/edge-ai/mqtt-otel-trace-exporter
  pullPolicy: IfNotPresent
  tag: "latest"

serviceAccount:
  create: true
  annotations: {}
  name: ""

service:
  enabled: false
  type: ClusterIP
  port: 8080
  targetPort: 8080

satAuth:
  enabled: true
  secretName: mqtt-sat-token
  tokenKey: sat.token
  caCertKey: ca.crt
  mountPath: /var/secrets/mqtt
  create: false
  secret:
    token: ""
    caCert: ""

x509Auth:
  enabled: false
  secretName: ""
  certKey: tls.crt
  keyKey: tls.key
  caCertKey: ca.crt
  mountPath: /var/secrets/mqtt-x509
  create: false
  secret:
    cert: ""
    key: ""
    caCert: ""

config:
  logLevel: info
  telemetry:
    collectorEndpoint: "http://otel-collector:4317"
    serviceName: mqtt-otel-trace-exporter
    serviceNamespace: edge-ai
    samplingRatio: 1.0
    maxExportBatchSize: 512
    maxQueueSize: 2048
    scheduledDelayMillis: 5000
    exportTimeoutMillis: 30000
  mqtt:
    brokerHost: mqtt-broker
    brokerPort: 1883
    clientId: ""
    topicFilters:
      - telemetry/#
    sharedSubscriptionGroup: edge-ai
    sessionExpirySecs: 86400
    receiveMax: 128
    keepAliveSecs: 30
    retryMinBackoffSecs: 5
    retryMaxBackoffSecs: 60
    useTls: true
  correlation:
    fieldName: correlationId
    allowGenerated: true

resources: {}

affinity: {}
nodeSelector: {}
tolerations: []

extraEnv: []
extraVolumeMounts: []
extraVolumes: []
